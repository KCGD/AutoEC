/**
 * Fill this out with your relevant info before running
 *  Only edit the "values" fields. DONT EDIT THE QUANTIFIERS (It'll break the script)
 * 
 * After you are done editing this file:
 *  1. open the EC form (make sure you can see the questions)
 *  2. paste this whole file into your dev console (open with Ctrl+Shift+K)
 *  3. hit enter to run it
 * 
 * This will automatically fill out the most common fields in the EC form. Make sure there aren't any special ones the script missed!
 * If all are filled out, submit the form, and you are good to go!
 */
const info = {
    firstname: {
        value: "Your first name", //first name
        quantifiers: ["First", "name"]
    },
    lastname: {
        value: "Your last name", //last name
        quantifiers: ["Last", "name"]
    },
    cwid: {
        value: "Your CWID", //campus wide ID
        quantifiers: ["Campus Wide ID", "CWID", "ID"]
    },
    studentType: {
        value: "Your undergraduateness", //undergraduate / graduate
        quantifiers: ["am an undergraduate student"]
    },
    email: {
        value: "Your email", //your email
        quantifiers: ["STEVENS EMAIL", "email"]
    },
    phonenumber: {
        value: "Your phone number", //your phone number
        quantifiers: ["Phone number", "phone", "Cell Phone"]
    }
}

var run=function(){let e=getQuestions();for(var t=0;t<e.length;t++){let n=e[t],l=n.innerHTML;if(answerElementIsText(getAnswerElement(n)))getAnswerElement(n).value=info[findRelaventKey(info,l)[0]].value;else{let i=getAnswerElement(n).children,r=0;for(let s=0;s<i.length;s++){let c=i[s],o=findRelaventKey(info,getMultChoiceText(c));o[1]>0&&o[1]>r&&(selectMultipleChoice(c),r=o[1])}}}},findRelaventKey=function(e,t){let n=Object.keys(e),l={};for(let i=0;i<n.length;i++){let r=n[i];l[r]=0;for(let s=0;s<e[n[i]].quantifiers.length;s++){let c=e[n[i]].quantifiers[s].toLocaleLowerCase().split(" ");for(let o=0;o<c.length;o++){let u=c[o];t.toLocaleLowerCase().split(" ").includes(u)&&l[r]++}}}return getHighestScore(l)},getHighestScore=function(e){let t=-1/0,n="";for(let[l,i]of Object.entries(e))i>t&&(t=i,n=l);return[n,t]},getQuestions=function(){var e=[].slice.call(document.getElementsByTagName("span")),t=[];for(let n=0;n<e.length;n++)e[n].id&&e[n].id.includes("question_text")&&t.push(document.getElementById(e[n].id));return t},getAnswerElement=function(e){return e.parentElement.parentElement.parentElement.nextElementSibling.nextElementSibling.children[0]},answerElementIsText=function(e){return 0===e.children.length},getMultipleChoiceAnswers=function(e){return[].slice.call(e.children)},getMultChoiceText=function(e){return e.children[1].innerText},selectMultipleChoice=function(e){e.children[0].click()};run();